<%= form_for(board, html: { class: 'form-horizontal' }) do |f| %>
  <% if board.errors.any? %>
    <%= board.errors.count %>個のエラーがあります<br>
    <% board.errors.full_messages.each do |msg| %>
      <%= msg %><br>
    <% end -%>
  <% end -%>

  <div class="field form-group row">
    <div class="col-sm-5">
      <%= f.label :title, 'タイトル', class: 'control-label' %>
      <%= f.text_field :title, class: 'form-control' %>
    </div>
  </div>

  <label class="control-label">タグ</label>
  <%= f.nested_fields_for :board_tags, wrapper_tag: :div, wrapper_options: { class: 'row field form-group' } do |q| %>
    <div class="col-sm-5">
      <%= q.text_field :name, class: 'form-control' %>
    </div>
    <div class="col-sm-2">
      <%= q.remove_nested_fields_link '削除', class: 'btn btn-danger', role: 'button', tabindex: -1 %>
    </div>
  <% end %>

  <div class="row">
    <div class="div_right_button col-sm-6">
      <%= f.add_nested_fields_link :board_tags, 'タグ追加', class: 'btn btn-primary right_button', role: 'button' %>
    </div>
  </div>

  <%= fields_for board_comment do |sf| %>
    <div class="form-group row">
      <div class="col-sm-7">
        <%= sf.text_area :text,
          maxlength: "800",
          id: 'comment_text_area',
          onkeydown: 'if(event.keyCode == 13){javascript:transmission();}',
          onkeyup: "document.getElementById('characnt').value=800 - this.value.length",
          class: 'form-control' %>
      </div>
    </div>
  <% end %>

  <%= f.hidden_field :board_id, value: @board.id %>

  <div class="row">
    <div id="board_comment_submit" class="actions　form-group col-sm-7">
      <input type="text" id="characnt" disabled="disabled">
      <%= f.submit '確定', class: 'btn btn-primary right_button' %>
    </div>
  </div>
<% end %>